rhaetia_alpine_mission = {
    header = "mssion_gaul"
    icon = cde_gallic_tribe_negotiation

    repeatable = no

    chance = { factor = 5 }

    potential = {
        NOT = { has_variable = secure_venetia_mission }
        has_civil_war = no
        OR = {
		    primary_culture = rhaetian
		    tag = RAE
		}
		any_owned_province = {
		    count >= 1
		    is_in_area = alpes_raetiae_occidentalis
		}
    }

    abort = {
        ai_mission_back_out_trigger = yes
    }

    on_potential = { }

    on_start = {
        start_mission_ai_effect = yes
    }

    on_abort = {
        custom_tooltip = general_mission_cooldown_tt
        set_variable = {
            name = rhaetia_alpine_mission
            days = 7300
        }
    }

    on_completion = {
        complete_mission_effect = yes
    }


    rhaetia_alpine_mission_task_1 = { # A Mountine Federation

        icon = task_conquest

		allow = { 
            stability >= 60
            manpower_percentage >= 0.90
		}

		duration = 180

        on_completion = {  
            custom_tooltip = rhaetia_alpine_mission_task_1_tt
            trigger_event = { id = me_rhaetia.1 }
            show_as_tooltip = {
                add_political_influence = 100
            }
		}

	}

	rhaetia_alpine_mission_task_2 = { # Defences around (capital city)

        icon = task_political

        requires = { rhaetia_alpine_mission_task_1 }

		allow = { 
            treasury >= 200
		}

		highlight = {
		    scope:province = {
		        AND = {
		            is_capital = yes
		            owner = ROOT
		        }
		    }
		}

		on_start = {
		    add_treasury = -200
		}

		duration = 180

        on_completion = {  
            custom_tooltip = rhaetia_alpine_mission_task_2_tt
            trigger_event = { id = me_rhaetia.2 }
            show_as_tooltip = {
                capital_scope = {
                    add_province_modifier = {
                        name = me_rhaetia_city_defense_pmod
                        duration = -1
                    }
                }
            }
		}

	}

	rhaetia_alpine_mission_task_3 = { # Block the western pass

        icon = task_conquest

        requires = { rhaetia_alpine_mission_task_2 }

		allow = { 
		    custom_tooltip = {
		        text = rhaetia_alpine_mission_task_3_allow_tt_1
                any_owned_province = {
                    count >= 1
                    OR = {
                        province_id = p:3656
                        province_id = p:3657
                    }
                    has_building = fortress_building
                }
            }
		}

		highlight = {
		    OR = {
		        scope:province = {
        	        province_id = 3656
        		    has_owner = yes
        		    owner = root 
        	    }
        	    scope:province = {
        	        province_id = 3657
        		    has_owner = yes
        		    owner = root 
        	    }
        	}
		}

        on_completion = {  
            custom_tooltip = rhaetia_alpine_mission_task_3_tt
            trigger_event = { id = me_rhaetia.3 }
            show_as_tooltip = {
                random_owned_province = {
                    limit = {
                        OR = {
                            province_id = p:3656
                            province_id = p:3657
                        }
                    }
                    add_province_modifier = {
                        name = me_rhaetian_fort_system_pmod
                        duration = -1
                    }	
                }
            }
		}

	}

	rhaetia_alpine_mission_task_4 = { # Fortify the south

        icon = task_political

        requires = { rhaetia_alpine_mission_task_2 }

		allow = { 
		    custom_tooltip = {
		        text = rhaetia_alpine_mission_task_4_allow_tt_1
                any_owned_province = {
                    count >= 1
                    OR = {
                        province_id = p:3661
                        province_id = p:3660  
                        province_id = p:3659
                    }
                    has_building = fortress_building
                }
            }
		}

		highlight = {
		    OR = {
		        scope:province = {
        	        province_id = 3661
        		    has_owner = yes
        		    owner = root 
        	    }
        	    scope:province = {
        	        province_id = 3660
        		    has_owner = yes
        		    owner = root 
        	    }
        	    scope:province = {
        	        province_id = 3659
        		    has_owner = yes
        		    owner = root 
        	    }
        	}
		}

        on_completion = {  
            custom_tooltip = rhaetia_alpine_mission_task_4_tt
            trigger_event = { id = me_rhaetia.4 }
            show_as_tooltip = {
                random_owned_province = {
                    limit = {
                        OR = {
                            province_id = p:3661
                            province_id = p:3660
                            province_id = p:3659
                        }
                    }
                    add_province_modifier = {
                        name = me_rhaetian_fort_system_pmod
                        duration = -1
                    }	
                }
            }
		}

	}

	rhaetia_alpine_mission_task_5 = { # Unite all the Raeti

        icon = task_happiness

        requires = { rhaetia_alpine_mission_task_1 }

		allow = { 
            area:alpes_raetiae_occidentalis = {
            	any_area_province = {
    	       		count >= 10
	           		controller = ROOT
                }
            }
		}

		highlight = {
		    scope:province = {
		        AND = {
		            is_in_area = alpes_raetiae_occidentalis
		            has_owner = yes
		            NOT = {
		                owner = ROOT
		            }
		        }
		    }
		}

        on_completion = {  
            custom_tooltip = rhaetia_alpine_mission_task_5_tt
            trigger_event = { id = me_rhaetia.5 }
		}

	}

	rhaetia_alpine_mission_task_6 = { # Into Vindelician Lands

        icon = task_economical

        requires = { rhaetia_alpine_mission_task_5 }

		allow = { 

		}

        on_completion = {  
            custom_tooltip = rhaetia_alpine_mission_task_6_tt
            #trigger_event = {  }
		}

	}

	rhaetia_alpine_mission_task_7 = { # Mixing with the Vindelicians

        icon = task_diplomatic

        requires = { rhaetia_alpine_mission_task_6 rhaetia_alpine_mission_task_3 }

		allow = { 

		}

        on_completion = {  
            custom_tooltip = rhaetia_alpine_mission_task_7_tt
            #trigger_event = {  }
		}

	}

	rhaetia_alpine_mission_task_8 = { # Celtic Magic

        icon = task_happiness

        requires = { rhaetia_alpine_mission_task_7 }

		allow = { 

		}

        on_completion = {  
            custom_tooltip = rhaetia_alpine_mission_task_8_tt
            #trigger_event = {  }
		}

	}

	rhaetia_alpine_mission_task_9 = { # Hill fort techniques

        icon = task_economical

        requires = { rhaetia_alpine_mission_task_3 rhaetia_alpine_mission_task_4 }

		allow = { 

		}

        on_completion = {  
            custom_tooltip = rhaetia_alpine_mission_task_9_tt
            #trigger_event = {  }
		}

	}

	rhaetia_alpine_mission_task_10 = { # To the last Rhaetian

        icon = task_expansion

        requires = { rhaetia_alpine_mission_task_9 }

		allow = { 

		}

        on_completion = {  
            custom_tooltip = rhaetia_alpine_mission_task_10_tt
            #trigger_event = {  }
		}

	}

	rhaetia_alpine_mission_task_11 = { # Alpine Warfare

        icon = task_conquest

        requires = { rhaetia_alpine_mission_task_10 }

		allow = { 

		}

        on_completion = {  
            custom_tooltip = rhaetia_alpine_mission_task_11_tt
            #trigger_event = {  }
		}

	}

	rhaetia_alpine_mission_task_12 = { # A Raetic City

        icon = task_political

        requires = { rhaetia_alpine_mission_task_9 }

		allow = { 

		}

        on_completion = {  
            custom_tooltip = rhaetia_alpine_mission_task_12_tt
            #trigger_event = {  }
		}

	}

	rhaetia_alpine_mission_task_13 = { # Rhaetian Housing

        icon = task_economical

        requires = { rhaetia_alpine_mission_task_12 }

		allow = { 

		}

        on_completion = {  
            custom_tooltip = rhaetia_alpine_mission_task_13_tt
            #trigger_event = {  }
		}

	}

	rhaetia_alpine_mission_task_14 = { # Conquer the Lepontii

        icon = task_conquest

        requires = { rhaetia_alpine_mission_task_6 }

		allow = { 

		}

        on_completion = {  
            custom_tooltip = rhaetia_alpine_mission_task_14_tt
            #trigger_event = {  }
		}

	}

	rhaetia_alpine_mission_task_15 = { # The Norican Alps

        icon = task_political

        requires = { rhaetia_alpine_mission_task_6 }

		allow = { 

		}

        on_completion = {  
            custom_tooltip = rhaetia_alpine_mission_task_15_tt
            #trigger_event = {  }
		}

	}

	rhaetia_alpine_mission_task_16 = { # Helvetii in the West 

        icon = task_conquest

        requires = { rhaetia_alpine_mission_task_14 rhaetia_alpine_mission_task_15 }

		allow = { 

		}

        on_completion = {  
            custom_tooltip = rhaetia_alpine_mission_task_16_tt
            #trigger_event = {  }
		}

	}

	rhaetia_alpine_mission_task_17 = { # Noricum Ripense 

        icon = task_expansion

        requires = { rhaetia_alpine_mission_task_15 }

		allow = { 

		}

        on_completion = {  
            custom_tooltip = rhaetia_alpine_mission_task_17_tt
            #trigger_event = {  }
		}

	}

	rhaetia_alpine_mission_task_18 = { # The Alpine Federation

        icon = task_diplomatic

        requires = { rhaetia_alpine_mission_task_17 rhaetia_alpine_mission_task_16 rhaetia_alpine_mission_task_12 }

		allow = { 

		}

        on_completion = {  
            custom_tooltip = rhaetia_alpine_mission_task_18_tt
            #trigger_event = {  }
		}

	}
    
    rhaetia_alpine_mission_task_19 = { # Impenetrable Mountains

        icon = task_expansion

        requires = { rhaetia_alpine_mission_task_18 }

		allow = { #Every mountain pass into the alps has at least 1 fort 

		}

        on_completion = {  
            custom_tooltip = rhaetia_alpine_mission_task_19_tt
            #trigger_event = {  }
		}

	}

	rhaetia_alpine_mission_task_20 = { # The Eugani Territories

        icon = task_conquest

        requires = { rhaetia_alpine_mission_task_5 }

		allow = { 

		}

        on_completion = {  
            custom_tooltip = rhaetia_alpine_mission_task_20_tt
            #trigger_event = {  }
		}

	}

	rhaetia_alpine_mission_task_21 = { # Venetian Salt

        icon = task_economical

        requires = { rhaetia_alpine_mission_task_20 }

		allow = { 

		}

        on_completion = {  
            custom_tooltip = rhaetia_alpine_mission_task_21_tt
            #trigger_event = {  }
		}

	}

	rhaetia_alpine_mission_task_22 = { # Eugani Hills

        icon = task_expansion

        requires = { rhaetia_alpine_mission_task_20 }

		allow = { 

		}

        on_completion = {  
            custom_tooltip = rhaetia_alpine_mission_task_22_tt
            #trigger_event = {  }
		}

	}

	rhaetia_alpine_mission_task_23 = { # Colonize Venetia

        icon = task_happiness

        requires = { rhaetia_alpine_mission_task_22 rhaetia_alpine_mission_task_21 }

		allow = { 

		}

		on_start = {

		}

		duration = 730

        on_completion = {  
            custom_tooltip = rhaetia_alpine_mission_task_23_tt
            #trigger_event = {  }
		}

	}

	rhaetia_alpine_mission_task_24 = { # Carnians of Latobicia

        icon = task_diplomatic

        requires = { rhaetia_alpine_mission_task_23}

		allow = { 

		}

        on_completion = {  
            custom_tooltip = rhaetia_alpine_mission_task_24_tt
            #trigger_event = {  }
		}

	}


}



