country_decisions = {
	cyr_control_grazing = {
		potential = {
			num_of_cities >= 1
			has_variable = cyr_silphium_extinction_looming
			NOT = {has_variable = cyr_grazing_controlled_var}
			NOT = {has_variable = cyr_silphium_extinct}
		}

		highlight = {
			OR = {
				is_in_area = cyrenaica_superioris_area
				is_in_area = cyrenaica_inferioris_area
			}		
		}

		allow = {
			NOT = {		
				any_owned_province = {
					OR = {
						is_in_area = cyrenaica_superioris_area
						is_in_area = cyrenaica_inferioris_area
					}						
					trade_goods = cattle
					has_building = basic_settlement_infratructure_building 
				}
			}
			political_influence >= 50
			treasury >= cyr_three_months_income
		}

		effect = {
			add_political_influence = -50
			add_treasury = {
				subtract = cyr_three_months_income	
			}
			region:cyrenaica_region = {
				every_region_province = {
					limit = {
						OR = {
							is_in_area = cyrenaica_superioris_area
							is_in_area = cyrenaica_inferioris_area
						}						
						trade_goods = cattle
					}
					add_province_modifier = {
						name = cyr_grazing_restricted
						duration = 7300
					}
				}
			}
			set_variable = {
				name = cyr_grazing_controlled_var
			}
		}

		ai_will_do = {
			base = 1
		}
	}

	cyr_control_exports = {
		potential = {
			num_of_cities >= 1
			has_variable = cyr_silphium_extinction_looming
			NOT = {has_variable = cyr_exports_controlled_var}
			NOT = {has_variable = cyr_silphium_extinct}
		}

		allow = {
			country_trade_good_exports = {
				target = spices
				value < 5
			}
			political_influence >= 70
			treasury >= cyr_four_months_income
		}

		effect = {
			add_political_influence = -70
			add_treasury = {
				subtract = cyr_four_months_income	
			}

			region:cyrenaica_region = {
				every_region_province = {
					limit = {
						has_province_modifier = cyr_silphium_trade_hub
					}
					add_province_modifier = {
						name = cyr_silphium_trade_disrupted
						duration = 3650
					}
				}
			}

			set_variable = {
				name = cyr_exports_controlled_var
			}
		}

		ai_will_do = {
			base = 1
		}
	}

	cyr_stabilise_silphium = {
		potential = {
			num_of_cities >= 1
			has_variable = cyr_silphium_extinction_looming
			NOT = {has_variable = cyr_silphium_stable}
			NOT = {has_variable = cyr_silphium_extinct}
		}

		allow = {
			custom_tooltip = {
				text = cyr_stabilise_silphium.tt
				has_variable = cyr_grazing_controlled_var
				has_variable = cyr_exports_controlled_var
			}
			political_influence >= 80
			treasury >= cyr_four_months_income
		}

		effect = {
			add_political_influence = -80
			add_treasury = {
				subtract = cyr_four_months_income	
			}

			remove_country_modifier = cyr_new_export_markets
			remove_country_modifier = cyr_silphium_economy
			remove_country_modifier = cyr_silphium_scarce
			add_country_modifier = {
				name = cyr_silphium_sustainable_exports
				duration = -1
			}

			set_variable = {
				name = cyr_silphium_stable
			}
		}

		ai_will_do = {
			base = 1
		}
	}

	cyr_wooing_DEL_friendship = {
		potential = {
			num_of_cities >= 1
			has_variable = cyr_wooing_DEL_flag
			p:454.owner = {
				tag = DEL
				NOT = { is_subject_of = c:CYR }
			}
			NOT = {
				has_variable = cyr_wooing_DEL_friendship_flag
			}
		}

		allow = {
			p:454.owner = {
				tag = DEL
				this.current_ruler = { 
					is_friend = c:CYR.current_ruler 
				}
			}				
		}

		effect = {
			show_as_tooltip = {
				ROOT = {
			        wooing_DEL_progress_moderate_effect = yes

			        c:DEL = {
			            add_opinion = {
			                modifier = CYR_subject_wooed_pos
			                target = c:CYR
			            }
			        }
		        }
		    }
		    trigger_event = {
		    	id = cyr_thera_01.8
		    }
		    set_variable = {
		    	name = cyr_wooing_DEL_friendship_flag
		    }
		}

		ai_will_do = {
			base = 1
		}
	}

	cyr_wooing_DEL_insult = {
		potential = {
			num_of_cities >= 1
			has_variable = cyr_wooing_DEL_flag
			p:454.owner = {
				tag = DEL
				NOT = { is_subject_of = c:CYR }
			}
			NOT = {
				has_variable = cyr_wooing_DEL_insult_flag
			}
		}

		allow = {
			any_country = {
				any_subject = {
					tag = DEL
					owns = p:454
				}    
	            has_opinion = {
	                modifier = opinion_insult 
	                target = ROOT
	            }
			}			
		}

		effect = {
			show_as_tooltip = {
				ROOT = {
			        wooing_DEL_progress_small_effect = yes

			        c:DEL = {
			            add_opinion = {
			                modifier = CYR_subject_wooed_neg
			                target = c:PRY
			            }
			        }
		        }
		    }
		    trigger_event = {
		    	id = cyr_thera_01.9
		    }
		    set_variable = {
		    	name = cyr_wooing_DEL_insult_flag
		    }
		}

		ai_will_do = {
			base = 1
		}
	}

	cyr_wooing_DEL_gifts = {
		potential = {
			num_of_cities >= 1
			has_variable = cyr_wooing_DEL_flag
			p:454.owner = {
				tag = DEL
				NOT = { is_subject_of = c:CYR }
			}
			NOT = {
				has_variable = cyr_wooing_DEL_gifts_flag
			}
		}

		allow = {
			p:454.owner = {
				tag = DEL
				has_opinion = {
	                modifier = opinion_gift 
	                target = c:CYR
	            }
			}
		}

		effect = {
			show_as_tooltip = {
		        wooing_DEL_progress_small_effect = yes

		        c:DEL = {
		            add_opinion = {
		                modifier = CYR_subject_wooed_neg
		                target = c:PRY
		            }
       			}
		    }
		    trigger_event = {
		    	id = cyr_thera_01.10
		    }
		    set_variable = {
		    	name = cyr_wooing_DEL_gifts_flag
		    }
		}

		ai_will_do = {
			base = 1
		}
	}

	cyr_wooing_DEL_piracy = {
		potential = {
			num_of_cities >= 1
			has_variable = cyr_wooing_DEL_flag
			p:454.owner = {
				tag = DEL
				NOT = { is_subject_of = c:CYR }
			}
			NOT = {
				has_variable = cyr_wooing_DEL_piracy_flag
			}
		}

		allow = {
			root = {
		        OR = {
		            has_law = antipiracy_edict
		            has_law = republican_mediterranean_4 
		        }
			}
		}

		effect = {
			show_as_tooltip = {
		        wooing_DEL_progress_moderate_effect = yes

		        c:DEL = {
		            add_opinion = {
		                modifier = CYR_subject_wooed_pos
		                target = c:CYR
		            }
		        }
		    }
		    trigger_event = {
		    	id = cyr_thera_01.11
		    }
		    set_variable = {
		    	name = cyr_wooing_DEL_piracy_flag
		    }
		}

		ai_will_do = {
			base = 1
		}
	}

	cyr_wooing_DEL_fleet = {
		potential = {
			num_of_cities >= 1
			has_variable = cyr_wooing_DEL_flag
			p:454.owner = {
				tag = DEL
				NOT = { is_subject_of = c:CYR }
			}
			NOT = {
				has_variable = cyr_wooing_DEL_fleet_flag
			}
		}

		allow = {
			root = {
       			num_of_ships >= 60
			}
		}

		effect = {
			show_as_tooltip = {
		        wooing_DEL_progress_moderate_effect = yes

		        c:DEL = {
		            add_opinion = {
		                modifier = CYR_subject_wooed_pos
		                target = c:CYR
		            }
		        }
		    }
		    trigger_event = {
		    	id = cyr_thera_01.12
		    }
		    set_variable = {
		    	name = cyr_wooing_DEL_fleet_flag
		    }
		}

		ai_will_do = {
			base = 1
		}
	}		

	cyr_wooing_DEL_eclipsing_fleet = {
		potential = {
			num_of_cities >= 1
			has_variable = cyr_wooing_DEL_flag
			p:454.owner = {
				tag = DEL
				NOT = { is_subject_of = c:CYR }
			}
			NOT = {
				has_variable = cyr_wooing_DEL_eclipsing_fleet_flag
			}
		}

		allow = {
			root = {
        		num_of_ships >= c:PRY.cyr_eclipse_fleet_svalue 
			}
		}

		effect = {
			show_as_tooltip = {
		        wooing_DEL_progress_large_effect = yes


		        c:DEL = {
		            add_opinion = {
		                modifier = CYR_subject_wooed_neg
		                target = c:PRY
		            }
		        }
		    }
		    trigger_event = {
		    	id = cyr_thera_01.13
		    }
		    set_variable = {
		    	name = cyr_wooing_DEL_eclipsing_fleet_flag
		    }
		}

		ai_will_do = {
			base = 1
		}
	}

	cyr_wooing_DEL_eclipsing_PRY = {
		potential = {
			num_of_cities >= 1
			has_variable = cyr_wooing_DEL_flag
			p:454.owner = {
				tag = DEL
				NOT = { is_subject_of = c:CYR }
			}
			NOT = {
				has_variable = cyr_wooing_DEL_eclipsing_PRY_flag
			}
		}

		allow = {
			root = {
    		    country_population >= c:PRY.country_population
			}
		}

		effect = {
			show_as_tooltip = {
		        wooing_DEL_progress_large_effect = yes

		        c:DEL = {
		            add_opinion = {
		                modifier = CYR_subject_wooed_neg
		                target = c:PRY
		            }
		        }
		        c:DEL = {
		            add_opinion = {
		                modifier = CYR_subject_wooed_pos
		                target = c:CYR
		            }
		        }
		    }
		    trigger_event = {
		    	id = cyr_thera_01.14
		    }
		    set_variable = {
		    	name = cyr_wooing_DEL_eclipsing_PRY_flag
		    }
		}

		ai_will_do = {
			base = 1
		}
	}

	cyr_wooing_DEL_liberation = {
		potential = {
			num_of_cities >= 1
			has_variable = cyr_wooing_DEL_flag
			p:454.owner = {
				tag = DEL
				NOT = { is_subject_of = c:CYR }
			}
			NOT = {
				has_variable = cyr_wooing_DEL_liberation_flag
			}
		}

		allow = {
	        any_country = {
	            has_opinion = {
	                modifier = opinion_liberated_us 
	                target = ROOT
	            }          
	        } 
		}

		effect = {
			show_as_tooltip = {
				ROOT = {
			        wooing_DEL_progress_small_effect = yes

			     	c:DEL = {
			            add_opinion = {
			                modifier = CYR_subject_wooed_pos
			                target = c:CYR
			            }
			        }
		        }
		    }
		    trigger_event = {
		    	id = cyr_thera_01.15
		    }
		    set_variable = {
		    	name = cyr_wooing_DEL_liberation_flag
		    }
		}

		ai_will_do = {
			base = 1
		}
	}

	cyr_wooing_DEL_games = {
		potential = {
			num_of_cities >= 1
			has_variable = cyr_wooing_DEL_flag
			p:454.owner = {
				tag = DEL
				NOT = { is_subject_of = c:CYR }
			}
			NOT = {
				has_variable = cyr_wooing_DEL_games_flag
			}
		}

		allow = {
	        root.current_ruler = {
	            has_character_modifier = hold_games_modifier
	        }
		}

		effect = {
			show_as_tooltip = {
				ROOT = {
			        wooing_DEL_progress_small_effect = yes

			     	c:DEL = {
			            add_opinion = {
			                modifier = CYR_subject_wooed_pos
			                target = c:CYR
			            }
			        }
		        }
		    }
		    trigger_event = {
		    	id = cyr_thera_01.16
		    }
		    set_variable = {
		    	name = cyr_wooing_DEL_games_flag
		    }
		}

		ai_will_do = {
			base = 1
		}
	}

	cyr_wooing_DEL_demand_loyalty = {
		potential = {
			num_of_cities >= 1
			has_variable = cyr_wooing_DEL_flag
			p:454.owner = {
				tag = DEL
				NOT = { is_subject_of = c:CYR }
			}
		}

		allow = {
			custom_tooltip = {
            	text = cyr_wooing_DEL_demand_loyalty.tt
            	var:wooing_DEL_progress >= 15
            }
		}

		effect = { 
		    trigger_event = {
		    	id = cyr_thera_01.17
		    }
		    remove_variable = cyr_wooing_DEL_flag
		}

		ai_will_do = {
			base = 1
		}
	}

	cyr_wooing_DEL_uncertain_overlordship = {
		potential = {
			num_of_cities >= 1
			has_variable = cyr_wooing_DEL_flag
			any_country = {
				tag = DEL
				owns = p:454 
				is_subject = yes
				NOT = { is_subject_of = c:CYR }
				NOT = { is_subject_of = c:PRY }
			}
		}

		allow = {
		}

		effect = { 
		    trigger_event = {
		    	id = cyr_thera_01.19
		    }
		    remove_variable = cyr_wooing_DEL_flag
		}

		ai_will_do = {
			base = 1
		}
	}

	### Libu Decisions ###
	integrate_cyrenaican_navy = {
		potential = {
			primary_culture = libyan
			war = no
			NOT = {
				has_variable = cyr_integrates_navy
			}
		}
		allow = {
			treasury >= 150
		}
		effect = {
			set_variable = cyr_integrates_navy
	    	create_unit = {
	            sub_unit = liburnian
				location = 2574
				navy = yes
				add_subunit = liburnian
				add_subunit = liburnian
				add_subunit = liburnian
				add_subunit = liburnian
				add_subunit = trireme
				add_subunit = trireme
				add_subunit = trireme
				add_subunit = tetrere
			}
			add_treasury = -150
		}
	}
	tifinagh_script_kings_list = {
		potential = {
			has_country_modifier = tifinagh_script
			government = aristocratic_monarchy
		}
		allow = {
			legitimacy >= 80
			treasury >= 50
			current_ruler = {
				popularity >= 70
			}
		}
		effect = {
			create_country_treasure = {
				key = "tifinagh_libu_kings_list"
				icon = "old_script_1"
				modifier = {
					local_research_points_modifier = 0.1
					local_pop_conversion_speed = 0.1
				}
			}
		}
	}
	greek_script_kings_list = {
		potential = {
			has_country_modifier = greek_script
			government = aristocratic_monarchy
		}
		allow = {
			legitimacy >= 80
			treasury >= 50
			current_ruler = {
				popularity >= 70
			}
		}
		effect = {
			create_country_treasure = {
				key = "greek_libu_kings_list"
				icon = "old_script_2"
				modifier = {
					local_population_happiness = 0.1
					local_pop_assimilation_speed = 0.1
				}
			}
		}
	}
	hippodrome_of_barce = {
		potential = {
			num_of_cities >= 1
			owns = 3357
			p:3357 = {
				NOT = { has_variable = built_hippodrome }
			}
			NOR = {
				has_variable = hippodrome_barce_progress
				has_variable = hippodrome_barce_quality
			}
			has_variable = cyr_libya_hippodrome
		}
		highlight = {
			scope:province = {
				province_id = 3357
			}
		}
		allow = {
			trigger_if = {
				limit = {
					is_ai = yes
				}
				treasury >= 1
			}
			trigger_else = {
				treasury >= 500
			}
			trigger_if = {
				limit = { is_ai = no }
				stability > 40
			}
			p:3357 = {
				free_building_slots >= 1
				great_work_locator_is_free = yes
			}
		}
		effect = {
			if = {	
				limit = {
					is_ai = no
				}
				add_treasury = -500
			}
			else = {
				add_treasury = -1
			}
			custom_tooltip = "dhe_hippodrome_barce_tooltip"
			hidden_effect = {
				set_variable = {
					name = hippodrome_barce_progress
					value = 1
				}
				set_variable = {
					name = hippodrome_barce_quality
					value = 1
				}
				trigger_event = {
					id = "dhe_hippodrome_barce.10" # hippodrome event initial
				}
				trigger_event = {
					id = "dhe_hippodrome_barce.1" # hippodrome event 1
					days = { 150 300 }
				}
				p:3357 = {
					begin_great_work_construction = {
						great_work = "hippodrome_of_barce_work"
						locator = great_work	
						is_ancient = yes				
					}
				}
			}
		}
		ai_will_do = {
			factor = 1000
		}
	}
	camel_breeding_libu = {
		potential = {
			has_variable = libu_camel_program
			NOT = { has_variable = did_program_libu }
		}
		highlight = {
            scope:province = { 
            	any_owned_province = {
                	trade_goods = horses
            	}
            }
		}
		allow = {
			treasury >= 100
			any_owned_province = {
				trade_goods = horses
			}
		}
		effect = {
			random_owned_province = {
				limit = {
					trade_goods = horses
				}
				set_trade_goods = camel
				add_province_modifier = {
					name = camel_farms
					duration = -1
				}
			}
			add_treasury = -100
			set_variable = did_program_libu
		}
	}
}

