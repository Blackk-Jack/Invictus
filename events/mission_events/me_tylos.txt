namespace = me_tylos

me_tylos.1 = { # Restore Babylon
    type = country_event
    title = me_tylos_1_title
    desc = me_tylos_1_desc
    picture = interesting_histories_southern_india
    left_portrait = current_ruler

    option = {
        name = me_tylos_1.a
    	current_ruler = {
            add_charisma = 2
            add_zeal = 2
            add_finesse = 2
            add_martial = 2
            add_popularity = 25
            add_nickname = NICKNAME_THE_GREAT
        }

        add_country_modifier = {
            name = restored_babylon
            duration = 3650
        }

        add_innovation = 4
        add_4_free_province_investments = yes
        add_political_influence = 50
        add_treasury = 350

        hidden_effect = {
            if = {
                limit = {
                    has_variable = formed_babylon_inv
                }
                remove_variable = formed_babylon_inv
            }
            
        }
    }
}

me_tylos.2 = { # Rich Memory Event
    type = country_event
    title = me_tylos_2_title
    desc = me_tylos_2_desc
    picture = interesting_histories_southern_india
    left_portrait = current_ruler

    option = {
        name = me_tylos_2.a
        add_political_influence = -65
        change_government = babylonian_bureaucracy
    }

    option = {
        name = me_tylos_2.b
        add_political_influence = 35
    }
}

me_tylos.3 = { # Memory of Babylon Event
    type = country_event
    title = me_tylos_3_title
    desc = me_tylos_3_desc
    picture = interesting_histories_southern_india
    left_portrait = current_ruler

    immediate = {
        custom_tooltip = me_tylos_3_i_tt
        hidden_effect = {
            area:babylonia_area = { every_area_province = { add_claim = root } }
        }
        p:918.owner = {
            add_opinion = { modifier = declare_babylon_intent_realtion_tylos target = root }
            if = {
                limit = {
                    root = {
                        NOT = { is_subject_of = prev }
                    }
                }
                release_subject = root
            }
            random_country_culture = {
                limit = {
                    is_culture = babylonian
                }
                add_country_culture_modifier = {
                    name = memory_of_babylon
                    duration = 9125
                }
            }
        }

    }

    option = {
        name = me_tylos_3.a
        custom_tooltip = me_tylos_3_a_tt
        hidden_effect = {
            area:beth_daraye_area = { every_area_province = { add_claim = root } }
            area:asoristan_area = { every_area_province = { add_claim = root } }
            area:tigris_area = { every_area_province = { add_claim = root } }
        }
        add_aggressive_expansion = 15
        add_tyranny = 10
        add_political_influence = -30
    }

    option = {
        name = me_tylos_3.b
        add_political_influence = 30
    }
}

me_tylos.4 = {
    type = country_event
    title = me_tylos.4.t
    desc = me_tylos.4.desc
    picture = road_construction

    immediate = {
        add_treasury = -250
        add_manpower = -15
    }

    option = {      
        name = me_tylos.4.a
        add_country_modifier = {
            name = renovated_the_three_ancient_temples_tylos_mod
            duration = 3650
        }
        job_holder:office_pontifex = {
            add_gold = 150
            add_friend = root.current_ruler
        }
        capital_scope = {
            define_pop = {
                type = nobles
                culture = root.culture
                religion = root.religion
            }
            define_pop = {
                type = nobles
                culture = root.culture
                religion = root.religion
            }
            define_pop = {
                type = citizen
                culture = root.culture
                religion = root.religion
            }
            define_pop = {
                type = citizen
                culture = root.culture
                religion = root.religion
            }
        }
    }
}

me_tylos.5 = {
    type = country_event
    title = me_tylos.5.t
    desc = me_tylos.5.desc
    picture = interesting_histories_southern_india

    immediate = {
        add_treasury = -100
    }

    option = {      
        name = me_tylos.5.a
        # trigger an event where you coerce that governor to leave their court and become one of your minor characters
        # and you conquer p:941, p:971, p:969, p:4779, and p:4780 (and p:944 and p:964 if you don’t already own them).
        # Get a national modifier called “The Mesopotamian Bay” giving export and import value and nobles happiness/output + city and metropolis build cost reduction.
        # The previous owner gets a national modifier giving a debuff to supply limit, global commerce, and nobles output. Get a claim on pars_area and susiana_area. 

    }
    option = {
        name = me_tylos.5.b
    }
}

me_tylos.6 = {
    type = country_event
    title = me_tylos.6.t
    desc = me_tylos.6.desc
    picture = greek_antigonid_path_1_event
    left_portrait = current_ruler
    right_portrait = scope:tylos_the_shark_priest

    immediate = {
        hidden_effect = {
            create_character = {
                first_name = "Karcharias"
                family_name = "'The Shark'"
                culture = babylonian
                religion = mesopotamian_religion
                age = 25
                female = no
                no_stats = yes
                no_traits = yes
                hidden_effect = {
                    add_zeal = 3
                    good_charisma_effect = yes
                    average_finesse_effect = yes
                    good_zeal_effect = yes
                    add_trait = well_connected
                    add_trait = orator
                }
                save_scope_as = tylos_the_shark_priest
            }
        }
    }

    option = {      
        name = me_tylos.6.a
        add_treasury = -25
        scope:tylos_the_shark_priest = {
			move_country = root
			set_as_minor_character = THIS
		}
        show_as_tooltip = {
            add_country_modifier = {
                name = people_of_the_sea
                duration = 3650
            }
            hidden_effect = {
                p:7202 = {
                    while = {
                        count = 2
                        define_pop = {
                            type = nobles
                            culture = babylonian
                            religion = mesopotamian_religion
                        }
                    }
                }
            }
        }
        custom_tooltip = me_tylos.6_tt
    }
    option = {
        name = me_tylos.6.b
        show_as_tooltip = {
            add_country_modifier = {
                name = people_of_the_sea
                duration = 3650
            }
            hidden_effect = {
                p:7202 = {
                    while = {
                        count = 2
                        define_pop = {
                            type = nobles
                            culture = babylonian
                            religion = mesopotamian_religion
                        }
                    }
                }
            }
        }
        scope:tylos_the_shark_priest = {
			move_country = p:918.owner
			set_as_minor_character = THIS
		}
        custom_tooltip = me_tylos.6_tt
    }
}

me_tylos.7 = {
    type = country_event
    title = me_tylos.7.t
    desc = me_tylos.7.desc
    picture = great_work_architect
    left_portrait = current_ruler

    option = {      
        name = me_tylos.7.a
        show_as_tooltip = {
            add_country_modifier = {
                name = memory_of_tilmun
                duration = 7300
            }
        }
        trigger_event = {
            id = me_tylos.8 
            days = 365
        } 
    }
}

me_tylos.8 = {
    type = country_event
    title = me_tylos.8.t
    desc = me_tylos.8.desc
    picture = levantine_greco_path_1_event
    left_portrait = current_ruler

    option = {      
        name = me_tylos.8.a
        area:gerrha_area = {
            add_provincial_claim_effect = yes
        }
        custom_tooltip = me_tylos.8_tt
    }
}

me_tylos.9 = {
    type = country_event
    title = me_tylos.9.t
    desc = me_tylos.9.desc
    picture = hellenic_marketplace
    left_portrait = current_ruler
    right_portrait = scope:tylos_the_copper_merchant

    immediate = {
        hidden_effect = {
            create_character = {
                first_name = "Ea-Nasir"
                family_name = "Nabonahid"
                culture = babylonian
                religion = mesopotamian_religion
                age = 40
                female = no
                no_stats = yes
                no_traits = yes
                hidden_effect = {
                    great_finesse_effect = yes
                    add_trait = silver_tongued
                }
                save_scope_as = tylos_the_copper_merchant
            }
        }
    }

    option = {      
        name = me_tylos.9.a
        add_treasury = -50
        scope:tylos_the_copper_merchant = {
			move_country = root
			set_as_minor_character = THIS
		}
        custom_tooltip = me_tylos.9_tt
    }
    option = {
        name = me_tylos.9.b
        scope:tylos_the_copper_merchant = {
			move_country = p:918.owner
			set_as_minor_character = THIS
		}
        custom_tooltip = me_tylos.9_tt
    }
}

me_tylos.10 = {
    type = country_event
    title = me_tylos.10.t
    desc = me_tylos.10.desc
    picture = interesting_histories_southern_india
    left_portrait = current_ruler

    option = {      
        name = me_tylos.10.a
        show_as_tooltip = {
            p:7202 = {
                add_building_level = port_building
            }
            p:7202 = {
                define_pop = {
                    type = citizen
                    culture = babylonian
                    religion = mesopotamian_religion
                }
                define_pop = {
                    type = citizen
                    culture = pasargadi
                    religion = zoroaster
                }
                define_pop = {
                    type = citizen
                    culture = makan
                    religion = arabian_pantheon
                }
            }
        }
        custom_tooltip = me_tylos.10_tt
    }
}