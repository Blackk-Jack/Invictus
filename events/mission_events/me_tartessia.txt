namespace = me_tartessia


me_tartessia.1 = {
    type = country_event

    title = me_tartessia_1_title
    desc = me_tartessia_1_desc
    picture = senator_conversing
    left_portrait = current_ruler
    

    option = {
        custom_tooltip = me_tartessia_1_tooltip
        name = me_tartessia_1.a
        show_as_tooltip = {
            add_political_influence = -25
			area:turdetania_occidentalis_area = {
				add_provincial_claim_effect = yes
			}
			area:baetica_hispalensis_area = {
				add_provincial_claim_effect = yes
			}
			area:gaditanus_area = {
				add_provincial_claim_effect = yes
			}
			p:1339 = {
				add_claim = root
			}
			p:1340 = {
				add_claim = root
			}
			p:1372 = {
				add_claim = root
			}
			p:1373 = {
				add_claim = root
			}
			p:1377 = {
				add_claim = root
			}
        } 
    }
}

me_tartessia.2 = {
    type = country_event

    title = me_tartessia_2_title
    desc = me_tartessia_2_desc
    picture = north_african_naval_path_4_event
    left_portrait = current_ruler
    right_portrait = p:3061.state.governor_or_ruler

    option = {
        custom_tooltip = me_tartessia_2_tooltip
        name = me_tartessia_2.a
        show_as_tooltip = {
            add_country_modifier = {
				name = carthaginian_turdetanian_connection_mod
				duration = 3650
			}
        }
    }
}

me_tartessia.3 = {
    type = country_event

    title = me_tartessia_3_title
    desc = me_tartessia_3_desc
    picture = quarry
    left_portrait = current_ruler
    

    option = {
        custom_tooltip = me_tartessia_3_tooltip
        name = me_tartessia_3.a
        show_as_tooltip = {
            random_owned_province = {
                limit = { num_of_slave_mine_building >= 1 }
                add_province_modifier = {
                    name = mines_of_tharsis_turdetania_mod
                    duration = -1
                }
            }
			add_country_modifier = {
				name = tharsis_mines_iron_boom
				duration = 3650
			}
        }       
    }
}

me_tartessia.4 = {
    type = country_event

    title = me_tartessia_4_title
    desc = me_tartessia_4_desc
    picture = greek_antigonid_path_4_event
    left_portrait = current_ruler
    
    option = {
        custom_tooltip = me_tartessia_4_tooltip
        name = me_tartessia_4.a
        show_as_tooltip = {
            add_stability = 5
			add_country_modifier = {
				name = turdetanian_aggression_mod
				duration = 1095
			}
			current_ruler = {
				add_martial = 1
			}
        }
    }
}

me_tartessia.5 = {
    type = country_event

    title = me_tartessia_5_title
    desc = me_tartessia_5_desc
    picture = war_chest
    left_portrait = current_ruler
    
    option = {
        custom_tooltip = me_tartessia_5_tooltip
        name = me_tartessia_5.a
        show_as_tooltip = {
            add_treasury = 100
			add_country_modifier = {
				name = five_turdenian_cities_mod
				duration = 3650
			}
			current_ruler = {
				add_martial = 1
			}
        } 
    }
}

me_tartessia.6 = {
    type = country_event

    title = me_tartessia_6_title
    desc = me_tartessia_6_desc
    picture = celtic_religious_festival
    left_portrait = current_ruler
    
    option = {
        custom_tooltip = me_tartessia_6_tooltip
        name = me_tartessia_6.a 
        show_as_tooltip = {
            add_treasury = -35
			create_country_treasure = {
				key = "bull_of_porcuna"
				icon = "treasure_it_gurzil_magical_bull" 
				modifier = {
					local_manpower_modifier = 0.05
					local_defensive = 0.05
				}
			}
        }
    }
}

me_tartessia.7 = {
    type = country_event

    title = me_tartessia_7_title
    desc = me_tartessia_7_desc
    picture = hellenic_marketplace
    left_portrait = current_ruler
    
    option = {
        custom_tooltip = me_tartessia_7_tooltip
        name = me_tartessia_7.a 
        show_as_tooltip = {
            capital_scope = {
				add_province_modifier = {
					name = greek_trade_connection_turdetania_mod
					duration = -1
				}
			}
        }
    }
}

me_tartessia.8 = {
    type = country_event

    title = me_tartessia_8_title
    desc = me_tartessia_8_desc
    picture = diadochi_treasury_plundered
    left_portrait = current_ruler
    

    option = {
        custom_tooltip = me_tartessia_8_tooltip
        name = me_tartessia_8.a 
    }
}

me_tartessia.9 = {
    type = country_event

    title = me_tartessia_9_title
    desc = me_tartessia_9_desc
    picture = great_work_animals
    left_portrait = current_ruler
    

    option = {
        custom_tooltip = harvest_festival_dumnonia_twenty_years_tt  
        
        name = me_tartessia_9.a
        add_treasury = {
            subtract = root.has_monthly_income
            multiply = 12
        }
        current_ruler = {
            add_popularity = popularity_medium
        } 
        add_stability = 3
        trigger_event = {
            id = 01_sw_britain_dum.14
            days = { 7299 7300 } #twenty years
        }
        custom_tooltip = me_tartessia_9_tooltip
    }

    option = {
        custom_tooltip = me_tartessia_9_tooltip
        name = me_tartessia_9.b
        current_ruler = {
            add_popularity = popularity_small
        }  
    }
}

me_tartessia.10 = {
    type = country_event

    title = me_tartessia_10_title
    desc = me_tartessia_10_desc
    picture = greek_religious_rite
    left_portrait = current_ruler
    right_portrait = scope:civil_war_leader
    
    immediate = {
        hidden_effect = {
            random_character = {
                limit = {
                    is_clan_chief = yes
                    is_ruler = no
                }
                remove_all_positions = yes
                save_scope_as = civil_war_leader
            }
            random_owned_province = {
                limit = { is_capital = no }
                save_scope_as = civil_war_capital
            }
            ordered_owned_province = {
                limit = {
                    is_capital = no
                }
                order_by = province_unrest
                max = argos_half_of_all_provinces #Give half of your provinces to the revolt
                set_owned_by = scope:tartessia_revolt_country
                add_claim = root
            }
            every_owned_province = {
                add_claim = scope:tartessia_revolt_country
            }
            every_character = {
                limit = {
                    loyalty < 30
                    NOT = { has_character_modifier = support_gathered }
                }
                move_country = scope:tartessia_revolt_country
            }
        }
    }

    option = {
        custom_tooltip = me_tartessia_10_tooltip
        name = me_tartessia_10.a
        start_civil_war = scope:civil_war_leader
        show_as_tooltip = {
            current_ruler = {
				add_trait = conqueror
			}
			add_country_modifier = {
				name = "mighty_tartessia"
				duration = -7300
			}
        } 
    }

    option = {
        custom_tooltip = me_tartessia_10_tooltip2
        custom_tooltip = me_tartessia_10_tooltip
        name = me_tartessia_10.b
        highlight = yes
        change_government = democratic_republic
		switch_government_type_event_clearup_effect = yes
        current_ruler = {
            add_rival = scope:civil_war_leader
        }
        show_as_tooltip = {
            current_ruler = {
				add_trait = conqueror
			}
			add_country_modifier = {
				name = "mighty_tartessia"
				duration = -7300
			}
        } 
    }
}