namespace = me_nabhapakti
namespace = me_nabhapakti_r
namespace = me_nabhapakti_k

me_nabhapakti.1 = { # Made of Hundreds of Flowers (Part 2)
    type = country_event

    title = me_nabhapakti_1_title
    desc = me_nabhapakti_1_desc
    picture = celtic_religious_festival

    option = {
        name = "me_nabhapakti_1.a"
        custom_tooltip = me_nabhapakti_1_tooltip
        add_treasury = 150
        add_political_influence = 75
        add_2_free_province_investments = yes
        add_stability = 10
        current_ruler = {
            add_popularity = popularity_medium
        }
    }
}
me_nabhapakti.101 = { # Made of Hundreds of Flowers (Part 1)
    type = country_event

    title = me_nabhapakti_101_title
    desc = me_nabhapakti_101_desc
    picture = celtic_religious_festival

    option = {
        name = "me_nabhapakti_101.a"
    }
}
me_nabhapakti.2 = { # Into the Dragon's Mouth
    type = country_event

    title = me_nabhapakti_2_title
    desc = me_nabhapakti_2_desc
    picture = interesting_histories_india_city

    option = {
        name = "me_nabhapakti_2.a"
        custom_tooltip = me_nabhapakti_2_tooltip
        c:MRY = {
            make_subject = {
                target = c:NBP
                type = vassal_tribe
            }
            add_opinion = {
                target = c:NBP
                modifier = opinion_loyal_subject
            }
        }
        add_stability = 5
    }

    option = {
        name = "me_nabhapakti_2.b"
    }
}
me_nabhapakti.3 = { # Legacy of Shakya
    type = country_event

    title = me_nabhapakti_3_title
    desc = me_nabhapakti_3_desc
    picture = senate_debate

    option = {
        name = "me_nabhapakti_3.a"
        custom_tooltip = me_nabhapakti_3_tooltip
        add_country_modifier = {
            name = shakya_legacy
            duration = -1
        }
        change_country_color = shakya_yellow
        change_country_adjective = "shakyan"
        change_country_name = shakya_republic
        add_centralization = centralization_gargantuan
        add_stability = -3
        add_political_influence = -35
        change_government = tribal_federation
        if = {
            limit = {
                p:4450 = {
                   has_city_status = settlement
                }
            }
            p:4450 = {
                set_city_status = city
            }
        }
    }
}
me_nabhapakti.4 = { # King of the Nepali
    type = country_event

    title = me_nabhapakti_4_title
    desc = me_nabhapakti_4_desc
    picture = throneroom

    option = {
        name = "me_nabhapakti_4.a"
        custom_tooltip = me_nabhapakti_4_tooltip
        add_centralization = centralization_gargantuan
        add_political_influence = -35
        add_country_modifier = {
            name = king_of_nepal
            duration = -1
        }
        random_country_culture = {
            limit = {
                is_culture = kamarupi
                is_integrated = no
            }
            set_country_culture_right = citizen
        }
        if = {
            limit = {
                p:7656 = {
                   has_city_status = settlement
                }
            }
            p:7656 = {
                set_city_status = city
            }
        }
        change_country_adjective = "nepali"
    }
}
me_nabhapakti.5 = { # Question of Capital
    type = country_event

    title = me_nabhapakti_5_title
    desc = me_nabhapakti_5_desc
    picture = interesting_histories_india_city

    option = {
        name = "me_nabhapakti_5.a"
        custom_tooltip = me_nabhapakti_5_tooltip
        set_capital = p:4450
        p:4450 = {
            set_city_status = city
        }
        add_2_free_province_investments = yes
        p:4459 = {
            random_pops_in_province = {
                limit = {
                    pop_type = nobles
                }
                move_pop = p:4450
            }
            random_pops_in_province = {
                limit = {
                    pop_type = citizen
                }
                move_pop = p:4450
            }
        }
        scope:capital_province = {
            add_province_modifier = {
                name = new_capital_enthusiasm
                duration = 365
            }
        }
    }
    option = {
        name = "me_nabhapakti_5.b"
        custom_tooltip = me_nabhapakti_5_tooltip
        add_1_free_province_investments = yes
        add_stability = 5
        add_legitimacy = legitimacy_large
        scope:capital_province = {
            add_province_modifier = {
                name = old_capital_legacy
                duration = 365
            }
        }
    }
}
me_nabhapakti.6 = {
    type = country_event

    title = me_nabhapakti_6_title
    desc = me_nabhapakti_6_desc
    picture = great_library

    option = {
        name = "me_nabhapakti_6.a"
        custom_tooltip = me_nabhapakti_6_tooltip

    }
}
me_nabhapakti.7 = {
    type = country_event

    title = me_nabhapakti_7_title
    desc = me_nabhapakti_7_desc
    picture = great_library

    option = {
        name = "me_nabhapakti_7.a"
        custom_tooltip = me_nabhapakti_7_tooltip

    }
}
me_nabhapakti.8 = {
    type = country_event

    title = me_nabhapakti_8_title
    desc = me_nabhapakti_8_desc
    picture = great_library

    option = {
        name = "me_nabhapakti_8.a"
        custom_tooltip = me_nabhapakti_8_tooltip

    }
}
me_nabhapakti.9 = {
    type = country_event

    title = me_nabhapakti_9_title
    desc = me_nabhapakti_9_desc
    picture = great_library

    option = {
        name = "me_nabhapakti_9.a"
        custom_tooltip = me_nabhapakti_9_tooltip

    }
}
me_nabhapakti.10 = {
    type = country_event

    title = me_nabhapakti_10_title
    desc = me_nabhapakti_10_desc
    picture = great_library

    option = {
        name = "me_nabhapakti_10.a"
        custom_tooltip = me_nabhapakti_10_tooltip

    }
}
me_nabhapakti.11 = {
    type = country_event

    title = me_nabhapakti_11_title
    desc = me_nabhapakti_11_desc
    picture = great_library

    option = {
        name = "me_nabhapakti_11.a"
        custom_tooltip = me_nabhapakti_11_tooltip

    }
}
me_nabhapakti.12 = {
    type = country_event

    title = me_nabhapakti_12_title
    desc = me_nabhapakti_12_desc
    picture = great_library

    option = {
        name = "me_nabhapakti_12.a"
        custom_tooltip = me_nabhapakti_12_tooltip

    }
}
me_nabhapakti.13 = {
    type = country_event

    title = me_nabhapakti_13_title
    desc = me_nabhapakti_13_desc
    picture = great_library

    option = {
        name = "me_nabhapakti_13.a"
        custom_tooltip = me_nabhapakti_13_tooltip

    }
}
me_nabhapakti.14 = {
    type = country_event

    title = me_nabhapakti_14_title
    desc = me_nabhapakti_14_desc
    picture = great_library

    option = {
        name = "me_nabhapakti_14.a"
        custom_tooltip = me_nabhapakti_14_tooltip

    }
}
me_nabhapakti.15 = {
    type = country_event

    title = me_nabhapakti_15_title
    desc = me_nabhapakti_15_desc
    picture = great_library

    option = {
        name = "me_nabhapakti_15.a"
        custom_tooltip = me_nabhapakti_15_tooltip

    }
}
me_nabhapakti.16 = {
    type = country_event

    title = me_nabhapakti_16_title
    desc = me_nabhapakti_16_desc
    picture = great_library

    option = {
        name = "me_nabhapakti_16.a"
        custom_tooltip = me_nabhapakti_16_tooltip

    }
}
me_nabhapakti.17 = {
    type = country_event

    title = me_nabhapakti_17_title
    desc = me_nabhapakti_17_desc
    picture = great_library

    option = {
        name = "me_nabhapakti_17.a"
        custom_tooltip = me_nabhapakti_17_tooltip

    }
}
me_nabhapakti.18 = {
    type = country_event

    title = me_nabhapakti_18_title
    desc = me_nabhapakti_18_desc
    picture = great_library

    option = {
        name = "me_nabhapakti_18.a"
        custom_tooltip = me_nabhapakti_18_tooltip

    }
}
me_nabhapakti.19 = {
    type = country_event

    title = me_nabhapakti_19_title
    desc = me_nabhapakti_19_desc
    picture = great_library

    option = {
        name = "me_nabhapakti_19.a"
        custom_tooltip = me_nabhapakti_19_tooltip

    }
}
me_nabhapakti.20 = { # Itahar for Sale
    type = country_event

    title = me_nabhapakti_20_title
    desc = me_nabhapakti_20_desc
    picture = great_library
    option = {
        name = "me_nabhapakti_20.a"
        area:kamata_area = {
            every_area_province = {
                add_claim = root
            }
        }
        if = {
            limit = {
                p:7650 = {
                    owner = {
                        TAG = MRY
                    }
                }   
            }
            p:7650 = {
                set_owned_by = root
            }
        }
        if = {
            limit = {
                c:MRY = {
                    any_owned_province = {
                        kamata_area
                        NOT = 7650
                    }
                }
            }
            trigger_event = {
                id = me_nabhapakti.2022
                days = 5
            }
        }
    }
}
me_nabhapakti.2022 = { # Claims on Kamata IF Maurya has Kamata (Part 2-2)
    type = country_event

    title = me_nabhapakti_2022_title
    desc = me_nabhapakti_2022_desc
    picture = great_library
    option = {
        name = "me_nabhapakti_2022.a"
        if = {
            limit = {
                p:7654 = {
                    owner = {
                        TAG = MRY
                    }
                }
            }
            p:7654 = {
                set_owned_by = root
            }
        }
        if = {
            limit = {
                p:7652 = {
                    owner = {
                        TAG = MRY
                    }
                }
            }
            p:7652 = {
                set_owned_by = root
            }
        }
        if = {
            limit = {
                p:7323 = {
                    owner = {
                        TAG = MRY
                    }
                }
            }
            p:7323 = {
                set_owned_by = root
            }
        }
        if = {
            limit = {
                p:7343 = {
                    owner = {
                        TAG = MRY
                    }
                }
            }
            p:7343 = {
                set_owned_by = root
            }
        }
        if = {
            limit = {
                p:7346 = {
                    owner = {
                        TAG = MRY
                    }
                }
            }
            p:7336 = {
                set_owned_by = root
            }
        }
        if = {
            limit = {
                p:7653 = {
                    owner = {
                        TAG = MRY
                    }
                }
            }
            p:7653 = {
                set_owned_by = root
            }
        }
    }
}
me_nabhapakti.202 = { # Claims on Kamata (Part 2)
    type = country_event

    title = me_nabhapakti_202_title
    desc = me_nabhapakti_202_desc
    picture = great_library

    option = {
        name = "me_nabhapakti_202.a"
        custom_tooltip = me_nabhapakti_20_tooltip
        if = {
            limit = {
                exists = c:KRP
            }
            AND = {
                declare_war_with_wargoal = {
                    war_goal = conquer_wargoal
                    province = 7654
                    target = c:KRP
                }
                if = {
                    limit = { alliance_with = c:MRY }
                    break_alliance = c:MRY
                    add_truce = {
                        target = c:MRY
                        duration = 1825 # 5 years
                    }
                }
            }
        }
    }
}
me_nabhapakti_r.4 = {
    type = country_event

    title = me_nabhapakti_r4_title
    desc = me_nabhapakti_r4_desc
    picture = greek_philosophers

    option = {
        name = "me_nabhapakti_r4.a"
        custom_tooltip = me_nabhapakti_r6_tooltip
        change_government = aristocratic_republic
        change_country_color = vajjika_league_violet
        change_country_name = "vajjika_leagued_up"
        random_country_culture = {
            limit = {
                is_culture = vrji
            }
            set_country_culture_right = nobles
        }
        random_country_culture = {
            limit = {
                is_culture = malla
                NOT = {
                    has_pop_type_right = citizen
                } 
            }
            set_country_culture_right = citizen
        }
        custom_tooltip = "claims_on_old_league.tt"
        hidden_effect = {
            area:malla_area = {
                every_area_province = {
                    add_claim = root
                }
            }
            area:kosala_area = {
                every_area_province = {
                    add_claim = root
                }
            }
            area:vrji_area = {
                every_area_province = {
                    add_claim = root
                }
            }
        }
    }
}
