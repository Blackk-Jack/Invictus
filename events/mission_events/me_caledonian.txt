namespace = me_caledonian

me_caledonian.1 = {
    type = country_event

    title = me_caledonian_1_title
    desc = me_caledonian_1_desc
    picture = naval_battle
    left_portrait = current_ruler

    option = {
        name = "me_caledonian_1.a"
        custom_tooltip = me_caledonian_1_tooltip
        
    }
}
me_caledonian.2 = {
    type = country_event

    title = me_caledonian_2_title
    desc = me_caledonian_2_desc
    picture = ship_in_storm

    option = {
        name = "me_caledonian_2.a"
        custom_tooltip = me_caledonian_2_tooltip
        area:dalmatia_centralis_area = {
            every_area_province = {
                add_claim = root
            }
        }
    }
}
me_caledonian.3 = {
    type = country_event

    title = me_caledonian_3_title
    desc = me_caledonian_3_desc
    picture = road_construction
    left_portrait = current_ruler

    option = {
        name = "me_caledonian_3.a"
        custom_tooltip = me_caledonian_3_tooltip

    }
}
me_caledonian.4 = {
    type = country_event

    title = me_caledonian_4_title
    desc = me_caledonian_4_desc
    picture = celtic_diplomacy
    left_portrait = current_ruler
    right_portrait = scope:random_pirate_representative

    immediate = {
        create_character = {
                female = yes
                first_name = "Teuta"
                age = 25
                culture = root.culture
                religion = root.religion
                save_scope_as = random_pirate_representative
                hidden_effect = {
                    set_variable = {
                        name = cannot_imprison_pirates_ever
                        days = -1
                    }
                }
                set_variable = { name = illyrian_pirate_queen_appeared }
                hidden_effect = {
                    good_martial_effect = yes
                    good_charisma_effect = yes
                    good_finesse_effect = yes
                    force_add_trait = pillager
                    scope:random_pirate_representative = {
                        add_character_modifier = {
                            name = illyrian_pirate_queen
                            duration = -1
                        }
                    }
                }
                
            }
        }

    option = {
        name = "me_caledonian_4.a"
        custom_tooltip = me_caledonian_4_tooltip
        current_ruler = { add_popularity = -15 }
        current_ruler = {
           add_trait = patient
        }
    }

    option = {
        name = "me_caledonian_4.b"
        highlight = yes
        custom_tooltip = me_caledonian_4_tooltip
        set_country_heritage = pirate_heritage
        current_ruler = {
            add_trait = pillager
         }
    }
}
me_caledonian.5 = {
    type = country_event

    title = me_caledonian_5_title
    desc = me_caledonian_5_desc
    picture = farming

    option = {
        name = "me_caledonian_5.a"
        custom_tooltip = me_caledonian_5_tooltip

    }
}
me_caledonian.6 = {
    type = country_event

    title = me_caledonian_6_title
    desc = me_caledonian_6_desc
    picture = grand_ship
    left_portrait = current_ruler

    option = {
        name = me_caledonian_6.a
       
    }
    option = {
        name = me_caledonian_6.b
        
    }

}
me_caledonian.7 = {
    type = country_event

    title = me_caledonian_7_title
    desc = me_caledonian_7_desc
    picture = north_african_tribal_path_6_event

    option = {
        name = "me_caledonian_7.a"
        custom_tooltip = me_caledonian_7_tooltip

    }
}
me_caledonian.8 = {
    type = country_event

    title = me_caledonian_8_title
    desc = me_caledonian_8_desc
    picture = Event_attack_on_city_wall_by_sea

    option = {
        name = "me_caledonian_8.a"
        custom_tooltip = me_caledonian_8_tooltip

    }
}
me_caledonian.9 = {
    type = country_event

    title = me_caledonian_9_title
    desc = me_caledonian_9_desc
    picture = looting
    left_portrait = current_ruler

    option = {
        name = "me_caledonian_9.a"
        custom_tooltip = me_caledonian_9_tooltip

    }
}
me_caledonian.10 = {
    type = country_event

    title = me_caledonian_10_title
    desc = me_caledonian_10_desc
    picture = trade_port
    left_portrait = current_ruler
    left_portrait = scope:random_pirate_representative

    immediate = {
        random_character = {
            limit = {
                has_variable = illyrian_pirate_queen_appeared
                is_alive = yes
                prisoner = no
            }
            save_scope_as = random_pirate_representative
        }
    }

    option = {
        name = "me_caledonian_10.a"
        custom_tooltip = me_caledonian_10_tooltip

    }
}
me_caledonian.11 = {
    type = country_event

    title = me_caledonian_11_title
    desc = me_caledonian_11_desc
    picture = levantine_greco_path_2_event

    option = {
        name = "me_caledonian_11.a"
        custom_tooltip = me_caledonian_11_tooltip

    }
}
me_caledonian.12 = {
    type = country_event

    title = me_caledonian_12_title
    desc = me_caledonian_12_desc
    picture = celtic_britannic_path_7_event
    option = {
        name = "me_caledonian_12.a"
        custom_tooltip = me_caledonian_12_tooltip

    }
}
me_caledonian.13 = {
    type = country_event

    title = me_caledonian_13_title
    desc = me_caledonian_13_desc
    picture = greek_states_path_5_event

    option = {
        name = "me_caledonian_13.a"
        custom_tooltip = me_caledonian_13_tooltip

    }
}
me_caledonian.14 = {
    type = country_event

    title = me_caledonian_14_title
    desc = me_caledonian_14_desc
    picture = diadochi_demetrius_navy
    left_portrait = current_ruler

    option = {
        name = "me_caledonian_14.a"
        custom_tooltip = me_caledonian_14_tooltip

    }
}
me_caledonian.15 = {
    type = country_event

    title = me_caledonian_15_title
    desc = me_caledonian_15_desc
    picture = latin_roman_path_6_event
    left_portrait = current_ruler

    option = {
        name = "me_caledonian_15.a"
        custom_tooltip = me_caledonian_15_tooltip

    }
}
me_caledonian.16 = {
    type = country_event

    title = me_caledonian_16_title
    desc = me_caledonian_16_desc
    picture = celtic_gallic_path_2_event

    option = {
        name = "me_caledonian_16.a"
        custom_tooltip = me_caledonian_16_tooltip

    }
}

me_caledonian.17 = {
    type = country_event

    title = me_caledonian_17_title
    desc = me_caledonian_17_desc
    picture = interesting_histories_greek_city_man

    option = {
        name = "me_caledonian_17.a"
        custom_tooltip = me_caledonian_17_tooltip

    }
}

me_caledonian.18 = {
    type = country_event

    title = me_caledonian_18_title
    desc = me_caledonian_18_desc
    picture = persian_bactrian_path_2_event
    left_portrait = current_ruler

    option = {
        name = "me_caledonian_18.a"
        custom_tooltip = me_caledonian_18_tooltip

    }
}

me_caledonian.19 = {
    type = country_event

    title = me_caledonian_19_title
    desc = me_caledonian_19_desc
    picture = grand_ship

    option = {
        name = "me_caledonian_19.a"
        custom_tooltip = me_caledonian_19_tooltip

    }
}

me_caledonian.20 = {
    type = country_event

    title = me_caledonian_20_title
    desc = me_caledonian_20_desc
    picture = north_african_naval_path_4_event

    option = {
        name = "me_caledonian_20.a"
        custom_tooltip = me_caledonian_20_tooltip

    }
}

me_caledonian.21 = {
    type = country_event

    title = me_caledonian_21_title
    desc = me_caledonian_21_desc
    picture = Event_attack_on_city_wall_by_sea
    left_portrait = current_ruler

    option = {
        name = "me_caledonian_21.a"
        custom_tooltip = me_caledonian_21_tooltip
        add_treasury = -142
        trigger_event = { 
            id = me_caledonian.22 
            days = 2
        }
        current_ruler = {
            force_add_trait = resourceful
        }
    }

    option = {
        name = "me_caledonian_21.b"
        custom_tooltip = me_caledonian_21_tooltip
        trigger_event = { 
            id = me_caledonian.22 
            days = 2
        }
        add_country_modifier = {
            name = "grumbling_illyrian_pirates"
            duration = 1810
        }
        current_ruler = {
            force_add_trait = pessimistic
        }
    }
}

me_caledonian.22 = {
    type = country_event

    title = me_caledonian_22_title
    desc = me_caledonian_22_desc
    picture = persian_bactrian_path_1_event
    left_portrait = current_ruler

    option = {
        name = "me_caledonian_22.a"
        add_manpower = -2
        current_ruler = {
            force_add_trait = maimed
            force_add_trait = brave
        }
    
        trigger_event = { 
            id = me_caledonian.23 
            days = 3
        }
    }

    option = {
        name = "me_caledonian_22.b"
        add_manpower = -3
        current_ruler = {
            force_add_trait = wounded
        }
    
        trigger_event = { 
            id = me_caledonian.23 
            days = 3
        }
        
    }

    option = {
        name = "me_caledonian_22.c"
        add_manpower = -5
        current_ruler = {
			add_popularity = subtract_popularity_huge
            force_add_trait = pacifist
		}
    
        highlight = yes
        trigger = {
			current_ruler = {
				has_trait = coward
			}
		}
        
        trigger_event = { 
            id = me_caledonian.23 
            days = 1
        }

    }
}

me_caledonian.23 = {
    type = country_event

    title = me_caledonian_23_title
    desc = me_caledonian_23_desc
    picture = north_african_naval_path_4_event
    left_portrait = current_ruler

    option = {
        name = "me_caledonian_23.a"
        custom_tooltip = me_caledonian_23_tooltip
        p:266 = {
            set_owned_by = ROOT
        }
        p:1830 = {
            set_owned_by = ROOT
        }
        p:8015 = {
            set_owned_by = ROOT
        }

    }
}

me_caledonian.24 = {
    type = country_event

    title = me_caledonian_24_title
    desc = me_caledonian_24_desc
    picture = north_african_army_path_1_event

    option = {
        name = "me_caledonian_24.a"
        custom_tooltip = me_caledonian_24_tooltip

    }
}

me_caledonian.26 = {
    type = country_event

    title = me_caledonian_26_title
    desc = me_caledonian_26_desc
    picture = persian_achaemenid_path_3_event

    option = {
        name = "me_caledonian_26.a"
        custom_tooltip = me_caledonian_26_tooltip

    }
}

me_caledonian.27 = {
    type = country_event

    title = me_caledonian_27_title
    desc = me_caledonian_27_desc
    picture = north_african_army_path_2_event
    left_portrait = current_ruler
    right_portrait = scope:random_pirate_representative

    immediate = {
        random_character = {
            limit = {
                has_variable = illyrian_pirate_queen_appeared
                is_alive = yes
                prisoner = no
            }
            save_scope_as = random_pirate_representative
        }
    }

    option = {
        name = "me_caledonian_27.a"
        custom_tooltip = me_caledonian_27_tooltip
        scope:random_pirate_representative = {
            add_trait = intimidating
        }
        add_country_modifier = {
            name = grumbling_sailors
            duration = 1095
        }
        trigger_event = { 
            id = me_caledonian.28
            days = 720
        }
    }

    option = {
        name = "me_caledonian_27.b"
        custom_tooltip = me_caledonian_27_tooltip
        current_ruler = {
            add_popularity = -20
            add_trait = paranoid
        }
        trigger_event = { 
            id = me_caledonian.28
            days = 720
        }  
    }

    option = {
        name = "me_caledonian_27.c"
        highlight = yes
        custom_tooltip = easygoing_bad_tooltip
        trigger = {
            current_ruler = {
                has_trait = easygoing
            }
         }
         trigger_event = { 
            id = me_caledonian.28
            days = 720
        }
    }
}

 me_caledonian.28 = {
        type = country_event
    
        title = me_caledonian_28_title
        desc = me_caledonian_28_desc
        picture = north_african_army_path_3_event
        left_portrait = current_ruler
        right_portrait = scope:random_pirate_representative

        immediate = {
            random_character = {
                limit = {
                    has_variable = illyrian_pirate_queen_appeared
                    is_alive = yes
                    prisoner = no
                }
                save_scope_as = random_pirate_representative
            }
        }
    
        option = {
            name = "me_caledonian_28.a"
            custom_tooltip = me_caledonian_28_tooltip
            trigger = {
                is_ai = no
            }
            set_variable = {
                name = illyrian_pirate_civil_war
                days = -1
            }
            start_civil_war = scope:random_pirate_representative
            scope:random_pirate_representative.employer = {
                save_scope_as = civil_war_country
            }
            set_variable = {
                name = lcounter
                value = 3
            }
            while = {
                limit = {
                    root.var:lcounter > 0
                    any_country_state = {
                        is_capital_state = no
                    }
                }
                random_country_state = {
                    limit = {
                        is_capital_state = no
                    }
                    weight = {
                        modifier = {
                            factor = 10000
                            any_state_province = {
                                any_neighbor_province = {
                                    has_owner = yes
                                    owner = scope:civil_war_country
                                }
                            }
                        }
                    }
                    every_state_province = {
                        set_owned_by = scope:civil_war_country
                    }
                }
                root = {
                    change_variable = {
                        name = lcounter
                        subtract = 1
                    }
                }
            }
            scope:civil_war_country = {
                add_military_experience = 200
                add_stability = 25
                add_political_influence = 200
                add_country_modifier = {
                    name = civil_war_buff_ai
                    duration = 3650
                }
                if = {
                    limit = {
                        tag = ROM
                    }
                    change_law = testamentum_militis
                }
                else_if = {
                    limit = {
                        tag = CAR
                    }
                    change_law = republic_military_recruitment_car_2
                }
                else = {
                    change_law = republican_recruitment_3
                }
                random_country_culture = {
                    limit = {
                        is_integrated = no
                    }
                    weight = {
                        modifier = {
                            factor = country_culture_pop_count
                        }
                    }
                    scope:civil_war_country = {
                        integrate_country_culture = prev
                    }
                }
                random_country_culture = {
                    limit = {
                        is_integrated = no
                    }
                    weight = {
                        modifier = {
                            factor = country_culture_pop_count
                        }
                    }
                    scope:civil_war_country = {
                        integrate_country_culture = prev
                    }
                }
                random_country_culture = {
                    limit = {
                        is_integrated = no
                    }
                    weight = {
                        modifier = {
                            factor = country_culture_pop_count
                        }
                    }
                    scope:civil_war_country = {
                        integrate_country_culture = prev
                    }
                }
                add_treasury = 4000
                random_country_culture = {
                    limit = {
                        is_integrated = no
                    }
                    weight = {
                        modifier = {
                            factor = country_culture_pop_count
                        }
                    }
                    scope:civil_war_country = {
                        integrate_country_culture = prev
                    }
                }
                every_governorships = {
                    random_governorship_state = {
                        if = {
                            limit = {
                                has_governor = no
                            }
                            scope:civil_war_country = {
                                create_character = {
                                    female = no
                                    age = 32
                                    save_scope_as = sbgnq1
                                }
                            }
                            random_state_province = {
                                set_as_governor = scope:sbgnq1
                            }
                        }
                        every_state_province = {
                            every_pops_in_province = {
                                set_pop_culture = scope:civil_war_country.culture
                            }
                        }
                    }
                }
            }
            add_legitimacy = subtract_legitimacy_large
            trigger_event = {
                id = me_caledonian.29
            }
    
        }
        option = {
            name = "me_caledonian_28.b"
            custom_tooltip = me_caledonian_28_tooltip
            set_as_ruler = scope:random_pirate_representative
		    
            if = {
			limit = {
				is_ai = no
			}
			add_stability = -25
		}
		trigger_event = {
			id = me_caledonian.30
		}
        }
    }

    me_caledonian.29 = {
        type = country_event
    
        title = me_caledonian_29_title
        desc = me_caledonian_29_desc
        picture = north_african_army_path_6_event
        left_portrait = current_ruler
        right_portrait = scope:random_pirate_representative
    
        option = {
            name = "me_caledonian_29.a"
    
        }

        after = {
            if = {
                limit = {
                    has_variable = illyrian_pirate_civil_war
                }
                remove_variable = illyrian_pirate_civil_war
            }
        }
    }

    me_caledonian.30 = {
        type = country_event
    
        title = me_caledonian_30_title
        desc = me_caledonian_30_desc
        picture = north_african_army_path_1_event
        left_portrait = current_ruler
    
        option = {
            name = "me_caledonian_30.a"
    
        }

        after = {
            if = {
                limit = {
                    has_variable = illyrian_pirate_civil_war
                }
                remove_variable = illyrian_pirate_civil_war
            }
        }
    }

