namespace = veneto_flavour_event

veneto_flavour_event.1 = { #veneto occupies sparta
	type = province_event 
	title = veneto_flavour_event.1.t
	desc = veneto_flavour_event.1.desc
	picture = greek_siege
	
	left_portrait = Owner.current_ruler

	goto_location = p:427
	
	trigger = {
		province_id = 427
		owner = { 
	        tag = VNT			
			NOT = { 
				has_variable = vnt_city_fall_1
			} 
		}
		p:427 = {
			city_fall_trigger = yes
		}
	}

	immediate = {
		p:427 = {
			save_scope_as = special_province
		}
	}

	option = { # Treat them nicely
		name = "veneto_flavour_event.1.a"
		merciful_ruler_effect = yes
		p:427 = {
			add_province_modifier = {
			    name = me_benevolent_treatment_to_the_spartans_pmod
			    duration = -1
			}
		}
		c:VNT = {
		    set_variable = {
		        name = vnt_city_fall_1
		    }
		    set_variable = {
		        name = dhe_city_fall_2
		    }
		    country_culture = {
		        if = {
    	    	    limit = { 
    	    	        is_culture = peloponnesian
    	    	    }
    	    	set_country_culture_right = citizen
    	        add_integration_progress = 1
    	        }
    	    }
    	}
	}

	option = { # Bring a few things back home
		name = "veneto_flavour_event.1.b"
		neutral_conqueror_effect = yes
		c:VNT = {
		    set_variable = {
		        name = vnt_city_fall_1
		    }
		    set_variable = {
		        name = dhe_city_fall_2
		    }
		}
	}

	option = { # Sack the city
		name = "veneto_flavour_event.1.c"
		owner = {
			add_country_modifier = {
				name = country_improvement_spartan_discipline
				duration = 3650
			}
		}
		salt_earth_effect = yes
		c:VNT = {
		    set_variable = {
		        name = vnt_city_fall_1
		    }
		    set_variable = {
		        name = dhe_city_fall_2
		    }
		}
	}
}

veneto_flavour_event.2 = { #venetian empire declared
    type = country_event
    title = veneto_flavour_event.2.t
    desc = veneto_flavour_event.2.desc
    picture = oration

    option = {
        name = veneto_flavour_event.2.a
        change_country_name = VENETIC_EMPIRE
        change_country_adjective = VENETIC_EMPIRE_ADJ
        change_country_color = venetic_empire_color
        change_country_flag = VENETIC_EMPIRE_FLAG
        add_country_modifier = {
            name = ven_venetian_empire_cmod
            duration = 36500 #100 years
        }
        set_variable = {
            name = formed_venetian_empire
        }
    }
}

veneto_flavour_event.3 = { #venetic league declared
    type = country_event
    title = veneto_flavour_event.3.t
    desc = veneto_flavour_event.3.desc
    picture = council_country

    option = {
        name = veneto_flavour_event.3.a
        change_country_name = VENETIC_LEAGUE
        change_country_adjective = VENETIC_LEAGUE_ADJ
        change_country_color = venetic_league_color
        change_country_flag = VENETIC_LEAGUE_FLAG
        add_country_modifier = {
            name = ven_venetic_league_cmod
            duration = 36500 #100 years
        }
        set_variable = {
            name = formed_venetic_league
        }
    }	
}