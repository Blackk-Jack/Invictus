namespace = veneto_flavour_event

#veneto_flavour_event.1 = { #veneto occupies sparta - Event would require on_action - DISREGARD
#	type = province_event 
#	title = veneto_flavour_event.1.t
#	desc = veneto_flavour_event.1.desc
#	picture = greek_siege
#	
#	left_portrait = Owner.current_ruler
#
#	goto_location = p:427
#	
#	trigger = {
#		province_id = 427
#		owner = { 
#			has_civil_war = no
#			NOT = { 
#				has_variable = dhe_city_fall_14
#			} 
#			tag = VNT
#		}
#		p:427 = {
#			city_fall_trigger = yes
#		}
#	} 
#
#	immediate = {
#		p:427 = {
#			save_scope_as = special_province
#		}
#	}
#
#	option = { # Treat them nicely
#		name = "veneto_flavour_event.1.a"
#		merciful_ruler_effect = yes
#		p:427 = {
#			add_province_modifier = {
#			    name = me_benevolent_treatment_to_the_spartans_pmod
#			    duration = -1
#			}
#		}
#		c:VNT = {
#		    every_country_culture = {
#		        if = {
#    	    	    limit = { 
#    	    	        is_culture = peloponnesian
#    	    	    }
#    	    	set_country_culture_right = citizen
#    	        add_integration_progress = 1
#    	        }
#    	    }
#    	}
#	}
#
#	option = { # Bring a few things back home
#		name = "veneto_flavour_event.1.b"
#		neutral_conqueror_effect = yes
#	}
#
#	option = { # Sack the city
#		name = "veneto_flavour_event.1.c"
#		owner = {
#			add_country_modifier = {
#				name = country_improvement_spartan_discipline
#				duration = 3650
#			}
#		}
#		salt_earth_effect = yes
#	}
#}

veneto_flavour_event.2 = { #venetian empire declared
    type = country_event
    title = veneto_flavour_event.2.t
    desc = veneto_flavour_event.2.desc
    picture = oration

    option = {
        name = veneto_flavour_event.2.a
        change_country_name = VENETIC_EMPIRE
        change_country_adjective = VENETIC_EMPIRE_ADJ
        change_country_color = venetic_empire_color
        change_country_flag = VENETIC_EMPIRE_FLAG
        add_country_modifier = {
            name = ven_venetian_empire_cmod
            duration = 36500 #100 years
        }
        ROOT = {
            set_variable = {
                name = formed_venetian_empire
            }
        }
    }
}

veneto_flavour_event.3 = { #venetic league declared
    type = country_event
    title = veneto_flavour_event.3.t
    desc = veneto_flavour_event.3.desc
    picture = council_country

    option = {
        name = veneto_flavour_event.3.a
        change_country_name = VENETIC_LEAGUE
        change_country_adjective = VENETIC_LEAGUE_ADJ
        change_country_color = venetic_league_color
        change_country_flag = VENETIC_LEAGUE_FLAG
        add_country_modifier = {
            name = ven_venetic_league_cmod
            duration = 36500 #100 years
        }
        ROOT = {
            set_variable = {
                name = formed_venetic_league
            }
        }
    }	
}

veneto_flavour_event.4 = { #Rome borders Veneto
    type = country_event
    hidden = yes

    trigger = {
        c:ROM = {
            has_land = yes
        }
        root = {
            AND = {
                has_land = yes
                tag = VNT
                any_neighbour_country = {
                    tag = ROM
                }
                NOT = {
                    ROOT.country = {
                        has_variable = encountered_the_romans_vnt
                    }
                }
                has_completed_mission_task = secure_venetia_mission_task_6
            }
        }
    }

    immediate = {
        ROOT.country = {
            set_variable = {
                name = encountered_the_romans_vnt
            }
        }
        if = { 
            limit = {
                NOT = {
                    alliance_with = c:ROM
                }
            }
            trigger_event = {
                id = veneto_flavour_event.5
            }
        }
    }
	
}

veneto_flavour_event.5 = { #arrival of the romans
    type = country_event
    title =	veneto_flavour_event.5.t
    desc = veneto_flavour_event.5.desc 
    picture = great_city

    immediate = {
        add_opinion = {
            modifier = in_awe_of_rome_ven
            target = c:ROM
        }
    }

    option = {
        name = veneto_flavour_event.5.a #Let us send them a request for amicitia!
        custom_tooltip = veneto_flavour_event.5.a.tt
        c:ROM = {
            trigger_event = {
                id = veneto_flavour_event.6
            }
        }
        ai_chance = {
            factor = 80
        }
    }

    option = {
        name = veneto_flavour_event.5.b #We are perfectly fine fighting the Gauls on our own
    }
}

veneto_flavour_event.6 = { #The veneti request an alliance
    type = country_event
    title =	veneto_flavour_event.6.t
    desc = veneto_flavour_event.6.desc 
    picture = celtic_chiefs

    immediate = {
        add_opinion = {
            modifier = offered_expertise_against_the_gauls
            target = c:VNT
        }
    }

    option = {
        name = veneto_flavour_event.6.a #We could do with an ally against the Gauls
        add_alliance = c:VNT
        ai_chance = {
            factor = 65
        }
    }

    option = {
        name = veneto_flavour_event.6.b #Why ally the Veneti, when we can simply conquer them?
    }
}

veneto_flavour_event.7 = { #Treading on Eggshells
    type = country_event
    title =	veneto_flavour_event.7.t
    desc = veneto_flavour_event.7.desc 
    picture = council_country

    trigger = {
        root = {
            OR = {
                AND = {
                    alliance_with = c:ROM
                    c:ROM = {
                        num_of_cities >= 30
                    }
                }
                AND = {
                    alliance_with = c:ETR
                    c:ETR = {
                        num_of_cities >= 30
                    }
                }
            }
        }
        root = {
            num_of_cities <= 15
        }
        NOT = {
            ROOT.country = {
                has_variable = pondered_diplo_stance_in_cisalpine_gaul_vnt
            }
        }
        NOT = {
            diplomatic_stance = appeasement_stance
        }
    }

    immediate = {
        ROOT.country = {
            set_variable = {
                name = pondered_diplo_stance_in_cisalpine_gaul_vnt
            }
        }
    }

    option = {
        name = veneto_flavour_event.7.a #We must change the way our neighbours see us
        add_country_modifier = {
            name = me_vnt_appeasing_diplomacy_cmod
            duration = 3650 #10 years
        }
        ai_chance = {
            factor = 90
        }
    }   

    option = {
        name = veneto_flavour_event.7.b #Our current approach is fine!
    }   
}